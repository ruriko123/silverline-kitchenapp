(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[463],{5620:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/thirdparty/viewThirdparties",function(){return a(7706)}])},5819:function(e,t,a){"use strict";var l=a(5893);a(7294);var s=a(1664),n=a.n(s),r=a(2177),o=a(1163);t.Z=function(){let e=(0,o.useRouter)(),t=()=>{r.Z.post("/adminLogout").then(t=>{e.push("/login")}).catch(e=>{console.log(e)})};return(0,l.jsxs)("div",{className:"fixed-top navbar navbar-default d-flex justify-content-end ",children:[(0,l.jsx)("div",{className:"profile",children:(0,l.jsx)(n(),{href:"/profile",children:(0,l.jsx)("button",{type:"button",className:"py-2.5 px-5 mr-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-full border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:"Home"})})}),(0,l.jsx)("div",{className:"logout",children:(0,l.jsx)("button",{type:"button",onClick:t,className:"text-white bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-pink-300 dark:focus:ring-pink-800 shadow-lg shadow-pink-500/50 dark:shadow-lg dark:shadow-pink-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2",children:"Logout"})})]})}},2177:function(e,t,a){"use strict";var l=a(6154);let s=l.Z.create({baseURL:"http://localhost:5000",timeout:2e4,withCredentials:!0});t.Z=s},3019:function(e,t,a){"use strict";var l=a(2177);let s=async()=>{console.log("here");try{var e;let t=await l.Z.get("/checkAdminLogin");return(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.status)||void 0}catch(e){return console.log(e),!1}};t.Z=s},7706:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var l=a(5893),s=a(7294),n=a(1163),r=a(5301),o=a.n(r),d=a(2177),i=a(3019),c=a(5678);a(1399);var u=a(9200),h=a(6397);let x=e=>{let{successToast:t,errorToast:a,reloadTable:n,thirdparty:r,closemodal:o}=e,[i,c]=(0,s.useState)(""),[x,v]=(0,s.useState)(""),[g,m]=(0,s.useState)(""),[p,j]=(0,s.useState)(""),[b,f]=(0,s.useState)(""),[y,k]=(0,s.useState)(!1),[N,C]=(0,s.useState)("");(0,s.useEffect)(()=>{r&&(k(!0),v((null==r?void 0:r.Address)||""),m((null==r?void 0:r.Email)||""),j((null==r?void 0:r.Phone)||""),f((null==r?void 0:r.AltPhone)||""),C((null==r?void 0:r.vat)||""),c((null==r?void 0:r.CompanyName)||""))},[]);let w=e=>{T(!1),c(e.target.value),T(!0)},_=e=>{T(!1),j(e.target.value),T(!0)},P=e=>{T(!1),m(e.target.value),T(!0)},A=e=>{T(!1),v(e.target.value),T(!0)},Z=e=>{T(!1),f(e.target.value),T(!0)},E=e=>{T(!1),C(e.target.value),T(!0)},[S,T]=(0,s.useState)(!1),O=async()=>{d.Z.post("/thirdPartyupdate",{Address:x,Email:g,Phone:p,AltPhone:b,Pan:N,CompanyName:i,id:r.id}).then(async e=>{var a;t(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.success),n(),o(),F()}).catch(e=>{var t,l;a(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(l=t.data)||void 0===l?void 0:l.error)})},F=()=>{k(!1),o()};return(0,l.jsxs)(u.u_,{isOpen:y,toggle:F,className:"modalcontainer",children:[(0,l.jsx)(u.xB,{toggle:F,children:"Modal title"}),(0,l.jsx)(u.fe,{children:(0,l.jsx)(u.l0,{className:"",children:(0,l.jsxs)(u.cw,{className:"mb-3 customer-edit-fileds",children:[(0,l.jsx)(u.__,{children:"Name :"}),(0,l.jsx)(h.Z,{type:"text",placeholder:i,defaultValue:i,onChange:w,autoFocus:!0}),(0,l.jsx)(u.__,{children:"Phone :"}),(0,l.jsx)(h.Z,{type:"phone",placeholder:p,defaultValue:p,onChange:_,autoFocus:!0}),(0,l.jsx)(u.__,{children:"Email :"}),(0,l.jsx)(h.Z,{type:"email",placeholder:g,defaultValue:g,onChange:P,autoFocus:!0}),(0,l.jsx)(u.__,{children:"Address :"}),(0,l.jsx)(h.Z,{type:"text",placeholder:x,defaultValue:x,onChange:A,autoFocus:!0}),(0,l.jsx)(u.__,{children:"Alternate phone number :"}),(0,l.jsx)(h.Z,{type:"phone",placeholder:b,defaultValue:b,onChange:Z,autoFocus:!0}),(0,l.jsx)(u.__,{children:"Vat No :"}),(0,l.jsx)(h.Z,{type:"text",placeholder:N,defaultValue:N,onChange:E,autoFocus:!0})]})})}),(0,l.jsxs)(u.mz,{children:[S&&(0,l.jsx)(u.zx,{color:"primary",onClick:O,children:"Update"}),(0,l.jsx)(u.zx,{color:"secondary",onClick:F,children:"Cancel"})]})]})};var v=a(5819);function g(){let e=e=>c.Am.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),t=e=>c.Am.success(e,{position:"top-right",autoClose:3500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),a=e=>c.Am.error(e,{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"colored",toastId:"initialtoast-error-id"}),r=(0,n.useRouter)(),[u,h]=(0,s.useState)([]);(0,s.useEffect)(()=>{let e=async()=>{let e=await (0,i.Z)();e&&!1!==e||await r.push("/login")};e(),0===u.length&&d.Z.get("/getThirdParties").then(e=>{console.log(null==e?void 0:e.data),h(null==e?void 0:e.data)}).catch(e=>{var t,l;a(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(l=t.data)||void 0===l?void 0:l.error)})},[]);let g=async()=>{d.Z.get("/getThirdParties").then(e=>{console.log(null==e?void 0:e.data),h(null==e?void 0:e.data)}).catch(t=>{var a,l;e(null==t?void 0:null===(a=t.response)||void 0===a?void 0:null===(l=a.data)||void 0===l?void 0:l.error)})},m=async a=>{d.Z.post("/thirdPartyactive",{id:a}).then(e=>{var a;g(),t(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.success)}).catch(t=>{var a,l;e(null==t?void 0:null===(a=t.response)||void 0===a?void 0:null===(l=a.data)||void 0===l?void 0:l.error)})},p=async a=>{d.Z.post("/thirdPartyInactive",{id:a}).then(e=>{var a;g(),t(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.success)}).catch(t=>{var a,l;e(null==t?void 0:null===(a=t.response)||void 0===a?void 0:null===(l=a.data)||void 0===l?void 0:l.error)})},[j,b]=(0,s.useState)(!1),[f,y]=(0,s.useState)({}),k=()=>{b(!1)},N=async e=>{await y(e),b(!0)};return(0,l.jsxs)("div",{className:"d-flex justify-content-center align-items-center align-content-center mt-auto",children:[(0,l.jsx)(v.Z,{}),(0,l.jsx)(o(),{}),(0,l.jsx)(c.Ix,{}),(0,l.jsxs)("div",{className:"container-fluid ",style:{width:"100vw"},children:[(0,l.jsx)("h1",{className:"d-flex justify-content-center align-items-center mb-4 text-3xl font-extrabold text-gray-900 dark:text-white md:text-5xl lg:text-6xl",children:(0,l.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r to-emerald-600 from-sky-400",children:"Third Parties"})}),(0,l.jsx)("h1",{className:"flex items-center text-5xl font-extrabold dark:text-white",children:(0,l.jsx)("span",{className:"bg-blue-100 text-blue-800 text-2xl font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-800 ml-2",children:"Click to update"})}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{className:"table-responsive text-nowrap",children:(0,l.jsxs)("table",{className:"table table-striped",children:[(0,l.jsx)("thead",{className:"thead-dark",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"S.N"}),(0,l.jsx)("th",{children:"Company Name"}),(0,l.jsx)("th",{children:"Email"}),(0,l.jsx)("th",{children:"Phone"}),(0,l.jsx)("th",{children:"Alternate Phone"}),(0,l.jsx)("th",{children:"Pan"}),(0,l.jsx)("th",{children:"Address"}),(0,l.jsx)("th",{children:"isActive"}),(0,l.jsx)("th",{children:"added Date"}),(0,l.jsx)("th",{children:"added By"}),(0,l.jsx)("th",{children:"Active"}),(0,l.jsx)("th",{children:"Inactive"})]})}),(0,l.jsx)("tbody",{children:u&&u.map((e,t)=>(0,l.jsxs)("tr",{tabIndex:t,className:"cilcikable-tr ",children:[(0,l.jsx)("th",{onClick:()=>{N(e)},className:"table-danger",scope:"row",children:t+1}),(0,l.jsx)("td",{onClick:()=>{N(e)},className:"table-danger",children:e.CompanyName}),(0,l.jsx)("td",{onClick:()=>{N(e)},className:"table-danger",children:e.Email}),(0,l.jsx)("td",{onClick:()=>{N(e)},className:"table-danger",children:e.Phone}),(0,l.jsx)("td",{onClick:()=>{N(e)},className:"table-danger",children:e.AltPhone||""}),(0,l.jsx)("td",{onClick:()=>{N(e)},className:"table-danger",children:e.Pan}),(0,l.jsx)("td",{onClick:()=>{N(e)},className:"table-danger",children:e.Address}),(0,l.jsx)("td",{onClick:()=>{N(e)},className:"table-danger",children:e.isActive?"TRUE":"FALSE"}),(0,l.jsx)("td",{onClick:()=>{N(e)},className:"table-danger",children:e.addedDate}),(0,l.jsx)("td",{onClick:()=>{N(e)},className:"table-danger",children:e.addedBy}),(0,l.jsx)("td",{className:"bg-success",children:(0,l.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",onClick:t=>m(e.id),children:"Active"})}),(0,l.jsx)("td",{className:"bg-danger",children:(0,l.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",onClick:t=>p(e.id),children:"Inactive"})})]},t))})]})}),j&&(0,l.jsx)("div",{className:"modal-customer-edit",children:(0,l.jsx)(x,{reloadTable:g,thirdparty:f,closemodal:k,errorToast:e,successToast:t})})]})]})}}},function(e){e.O(0,[827,664,477,377,774,888,179],function(){return e(e.s=5620)}),_N_E=e.O()}]);